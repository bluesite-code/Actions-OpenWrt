# ======================
# 核心架构配置
# ======================
CONFIG_TARGET_ramips=y
CONFIG_TARGET_SUBTARGET="mt7621"
CONFIG_TARGET_ARCH_PACKAGES="mipsel_24kc"
CONFIG_TARGET_mipsel_24kc=y
CONFIG_TARGET_ramips_mt7621_DEVICE_hiwifi_hc5962=y

# ======================
# 预初始化网络配置
# ======================
CONFIG_TARGET_PREINIT_IP="192.168.1.1"
CONFIG_TARGET_PREINIT_NETMASK="255.255.255.0"
CONFIG_TARGET_PREINIT_BROADCAST="192.168.1.255"

# ======================
# 基础系统组件
# ======================
CONFIG_PACKAGE_base-files=y
CONFIG_PACKAGE_block-mount=y
CONFIG_PACKAGE_ca-bundle=y
CONFIG_PACKAGE_default-settings-chn=y
CONFIG_PACKAGE_dnsmasq-full=y
CONFIG_PACKAGE_dropbear=y
CONFIG_PACKAGE_firewall4=y
CONFIG_PACKAGE_fstools=y
CONFIG_PACKAGE_libc=y
CONFIG_PACKAGE_libgcc=y
CONFIG_PACKAGE_libustream-openssl=y
CONFIG_PACKAGE_logd=y
CONFIG_PACKAGE_mtd=y
CONFIG_PACKAGE_netifd=y
CONFIG_PACKAGE_nftables=y
CONFIG_PACKAGE_odhcp6c=y
CONFIG_PACKAGE_odhcpd-ipv6only=y
CONFIG_PACKAGE_opkg=y
CONFIG_PACKAGE_ppp=y
CONFIG_PACKAGE_ppp-mod-pppoe=y
CONFIG_PACKAGE_procd-ujail=y
CONFIG_PACKAGE_uci=y
CONFIG_PACKAGE_uclient-fetch=y
CONFIG_PACKAGE_urandom-seed=y
CONFIG_PACKAGE_urngd=y
CONFIG_PACKAGE_wpad-basic-openssl=y

# ======================
# 内核模块配置
# ======================
# 无线驱动
CONFIG_PACKAGE_kmod-mt7603=y
CONFIG_PACKAGE_kmod-mt7603-firmware=y
CONFIG_PACKAGE_kmod-mt76x2=y
CONFIG_PACKAGE_kmod-mt76x2-firmware=y

# 系统模块
CONFIG_PACKAGE_kmod-crypto-hw-eip93=y
CONFIG_PACKAGE_kmod-nft-offload=y
CONFIG_PACKAGE_kmod-gpio-button-hotplug=y
CONFIG_PACKAGE_kmod-leds-gpio=y
CONFIG_PACKAGE_kmod-usb3=y

# 文件系统支持
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-vfat=y
CONFIG_PACKAGE_kmod-fs-ntfs=y

# 网络模块
CONFIG_PACKAGE_kmod-nf-nathelper=y
CONFIG_PACKAGE_kmod-nf-nathelper-extra=y
CONFIG_PACKAGE_kmod-nf-conntrack-netlink=y
CONFIG_PACKAGE_kmod-ipt-core=y
CONFIG_PACKAGE_kmod-ipt-conntrack=y

# ======================
# 存储服务配置 (ksmbd)
# ======================
CONFIG_PACKAGE_kmod-fs-ksmbd=y
CONFIG_PACKAGE_ksmbd-server=y
CONFIG_PACKAGE_kmod-nls-utf8=y
CONFIG_PACKAGE_kmod-crypto-md4=y
CONFIG_PACKAGE_kmod-crypto-md5=y
CONFIG_PACKAGE_kmod-crypto-hmac=y

# ======================
# LuCI核心配置
# ======================
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-ssl-openssl=y
CONFIG_PACKAGE_luci-compat=y
CONFIG_PACKAGE_luci-lib-base=y
CONFIG_PACKAGE_luci-lib-ipkg=y
CONFIG_PACKAGE_luci-light=y

# ======================
# 中文支持
# ======================
CONFIG_LUCI_LANG_zh-cn=y
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y
CONFIG_PACKAGE_zoneinfo-asia=y
CONFIG_SYSTEM_TIMEZONE="Asia/Shanghai"

# ======================
# 插件配置
# ======================
# Alist
CONFIG_PACKAGE_alist=y
CONFIG_PACKAGE_luci-app-alist=y
CONFIG_PACKAGE_luci-i18n-alist-zh-cn=y

# MosDNS
CONFIG_PACKAGE_mosdns=y
CONFIG_PACKAGE_luci-app-mosdns=y
CONFIG_PACKAGE_luci-i18n-mosdns-zh-cn=y

# Argon主题
CONFIG_PACKAGE_luci-theme-argon=y
CONFIG_PACKAGE_luci-app-argon-config=y
CONFIG_PACKAGE_luci-i18n-argon-config-zh-cn=y

# AdvancedPlus
CONFIG_PACKAGE_luci-app-advancedplus=y
CONFIG_PACKAGE_luci-i18n-advancedplus-zh-cn=y

# ksmbd
CONFIG_PACKAGE_luci-app-ksmbd=y
CONFIG_PACKAGE_luci-i18n-ksmbd-zh-cn=y

# 定时设置
CONFIG_PACKAGE_luci-app-autotimeset=y
CONFIG_PACKAGE_luci-i18n-autotimeset-zh-cn=y
CONFIG_PACKAGE_cron=y

# FROS
CONFIG_PACKAGE_luci-app-fros=y
CONFIG_PACKAGE_luci-i18n-fros-zh-cn=y
CONFIG_PACKAGE_fros-core=y
CONFIG_PACKAGE_libuv=y
CONFIG_PACKAGE_libmaxminddb=y
CONFIG_PACKAGE_libprotobuf-c=y

# ======================
# 网络增强
# ======================
CONFIG_PACKAGE_iptables-mod-extra=y
CONFIG_PACKAGE_ip6tables-mod-nat=y
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_wget=y
CONFIG_PACKAGE_libcurl=y
CONFIG_PACKAGE_libpcap=y
CONFIG_PACKAGE_libsqlite3=y

# ======================
# 禁用冲突包
# ======================
# CONFIG_PACKAGE_dnsmasq is not set
# CONFIG_PACKAGE_uboot-envtools is not set

# ======================
# 优化配置
# ======================
CONFIG_BUSYBOX_CUSTOM=y
CONFIG_BUSYBOX_CONFIG_FEATURE_TOP_SMP_CPU=y
CONFIG_BUSYBOX_CONFIG_FEATURE_TOP_DECIMALS=y
CONFIG_PACKAGE_kmod-sched-cake=y

# ======================
# 架构优化参数
# ======================
CONFIG_CPU_MIPS32_R2=y
CONFIG_CPU_MIPSR2=y
CONFIG_TARGET_OPTIMIZATION="-Os -pipe -mips32r2 -mtune=24kc"
CONFIG_SOFT_FLOAT=y
